<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recharge Plans</title>
    <link rel="icon" href="img/212268702.png" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="recharge.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            width: 20%;
            float: left;
            padding: 15px;
        }
        .main-content {
            width: 80%;
            float: left;
            padding: 15px;
        }
        .card {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <main>
        <nav class="navbar navbar-expand-lg bg-light shadow-sm">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="img/212268702.png" alt="VoltMobi Logo" height="40">
                </a>
                
                <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="plansDropdown" data-bs-toggle="dropdown">Plans</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="RechargePlans.html">Recommended Packs</a></li>
                                <li><a class="dropdown-item" href="RechargePlans.html">Data Plans</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="helpDropdown" data-bs-toggle="dropdown">Help</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="faq.html">FAQs</a></li>
                                <li><a class="dropdown-item" href="contact.html">Contact Support</a></li>
                            </ul>
                        </li>
                    </ul>
                    
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <!-- User Details (Right Side) -->
                    <div class="d-flex align-items-center ms-auto">
                        <img src="img/user-logo.png" alt="" height="45px">
                        <span class="me-3 fw-bold">User: <span id="userPhone">9876543210</span></span>
                        <button class="btn btn-outline-primary btn-sm" onclick="updatePhoneNumber()">Update</button>
                        <a class="btn btn-outline-danger ms-3" href="#" onclick="logout()">Logout</a>
                    </div>
                </div>
            </div>
        </nav>
        
    </main>
    <!-- Sidebar -->
    <div class="sidebar">
        <input type="text" id="searchPlans" placeholder="Search plans..." class="form-control mb-3"> 
        <a href="#recommended">Recommended Plan</a>
        <a href="#popular">Popular Plan</a>
        <a href="#unlimited">Unlimited</a>
        <a href="#data-addon">Data Add-On</a>
        <a href="#topup">Top-Up</a>
        <a href="#long-validity">Long Validity</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div id="plansContainer"></div>
    </div>

    <!-- Bootstrap Modal -->
    <div class="modal fade" id="planModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Recharge Plan Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="modalPlanName"></p>
                    <p id="modalPlanPrice"></p>
                    <p id="modalPlanValidity"></p>
                    <p id="modalPlanDetails"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="proceedToPayment()">Recharge</button>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section about">
                <h2>VoltMobi</h2>
                <p>Your trusted prepaid recharge service for fast, secure, and affordable mobile top-ups.</p>
            </div>
    
            <div class="footer-section quick-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Plans</a></li>
                    <li><a href="#">Recharge</a></li>
                    <li><a href="#">Support</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
    
            
                 
            
            <div class="footer-section newsletter">
                <h3>Subscribe</h3>
                <form action="#">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Volt Mobi. All rights reserved.</p>
        </div>
    </footer>
    <script>
        // Recharge Plans Array
        const plans = [
            { id: "recommended", name: "Recommended 3GB/day", price: 349, validity: "28 Days", type: "recommended", details: "Unlimited Calls + 100 SMS/day" },
            { id: "popular", name: "Popular 2GB/day", price: 299, validity: "56 Days", type: "popular", details: "Disney+ Hotstar Free" },
            { id: "unlimited", name: "Unlimited 1.5GB/day", price: 199, validity: "28 Days", type: "unlimited", details: "Free Prime Subscription" },
            { id: "data-addon", name: "Data Add-On 5GB", price: 98, validity: "Validity as per base plan", type: "data-addon", details: "5GB additional data" },
            { id: "topup", name: "Top-Up ₹50", price: 50, validity: "Unlimited", type: "topup", details: "Talktime: ₹50" },
            { id: "long-validity", name: "Long Validity 365 Days", price: 1599, validity: "365 Days", type: "long-validity", details: "2GB/day + Unlimited Calls" }
        ];

        // Function to Display Plans
        function displayPlans(search = "") {
            let container = document.getElementById("plansContainer");
            container.innerHTML = "";

            plans.forEach((plan) => {
                if (search && !plan.name.toLowerCase().includes(search.toLowerCase())) return;

                let planCard = `
                    <div class="mb-4" id="${plan.id}">
                        <h3>${plan.type.replace("-", " ").toUpperCase()}</h3>
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">${plan.name}</h5>
                                <p class="card-text">Price: ₹${plan.price}</p>
                                <p class="card-text">Validity: ${plan.validity}</p>
                                <p class="card-text">${plan.details}</p>
                                <button class="btn btn-primary" onclick="buyNow('${plan.name}', ${plan.price})">Buy Now</button>
                                <button class="btn btn-secondary" onclick="viewDetails('${plan.name}', ${plan.price}, '${plan.validity}', '${plan.details}')">View Details</button>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += planCard;
            });
        }

        // Function to Open Modal with Plan Details
        function viewDetails(name, price, validity, details) {
            document.getElementById("modalPlanName").innerText = `Plan: ${name}`;
            document.getElementById("modalPlanPrice").innerText = `Price: ₹${price}`;
            document.getElementById("modalPlanValidity").innerText = `Validity: ${validity}`;
            document.getElementById("modalPlanDetails").innerText = details;

            let modal = new bootstrap.Modal(document.getElementById("planModal"));
            modal.show();
        }

        // Function to Proceed to Payment
        function proceedToPayment() {
            let planName = document.getElementById("modalPlanName").innerText;
            let planPrice = document.getElementById("modalPlanPrice").innerText;
            window.location.href = `payment.html?plan=${encodeURIComponent(planName)}&price=${encodeURIComponent(planPrice)}`;
        }

        // Function to Buy Now
        function buyNow(name, price) {
            window.location.href = `payment.html?plan=${encodeURIComponent(name)}&price=${encodeURIComponent(price)}`;
        }

        // Function to Update Phone Number
        function updatePhoneNumber() {
            let newNumber = prompt("Enter your new phone number:");
            if (newNumber && !isNaN(newNumber) && newNumber.length === 10) {
                document.getElementById("userPhone").innerText = newNumber;
            } else {
                alert("Invalid phone number. Please enter a 10-digit number.");
            }
        }

        // Event Listener for Search
        document.getElementById("searchPlans").addEventListener("input", (e) => {
            displayPlans(e.target.value);
        });

        // Initial Call to Display Plans
        displayPlans();

        document.querySelectorAll(".sidebar a").forEach(link => {
            link.addEventListener("click", function (e) {
                e.preventDefault();
                let targetId = this.getAttribute("href").substring(1);
                let targetElement = document.getElementById(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80, /* Offset for navbar */
                        behavior: "smooth"
                    });
                }
            });
        });

        function logout() {
            localStorage.removeItem("userPhone");
            window.location.href = "login.html";
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
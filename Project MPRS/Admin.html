 <!-- <!DOCTYPE html>
 <html lang="en">
     <head>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>Admin Dashboard | VoltMobi</title>
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
         <link rel="stylesheet" href="admin.css" type="text/css">
         <link rel="icon" href="img/212268702.png" type="image/icon">
         <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <header class="admin-header">
        <h1>VoltMobi Admin Dashboard</h1>
        <nav>
            <a href="#expiring-plans">Expiring Plans</a>
            <a href="#recharge-plans">Recharge Plans</a>
            <a href="#transaction-history">Transaction History</a>
            <a href="#notifications">Notifications</a>
            <a href="#support-tickets">Support Tickets</a>
            <a href="#feedback-reports">Feedback Reports</a>
            <a href="#analytics">Analytics</a>
            <a class="btn btn-outline ms-3" href="#" onclick="logout()"><img src="img/user_profile.png" alt="admin"  ></a>
            
        </nav>
    </header>

       
    <section id="analytics" class="admin-section">
        <h2>Analytics</h2>
        <div class="analytics-cards">
            <div class="card">
                <h3>Total Subscribers</h3>
                <p id="totalSubscribers">Loading...</p>
            </div>
            <div class="card">
                <h3>Active Plans</h3>
                <p id="activePlans">Loading...</p>
            </div>
            <div class="card">
                <h3>Revenue (This Month)</h3>
                <p id="monthlyRevenue">Loading...</p>
            </div>
        </div>
    </section>
    
    <section id="expiring-plans" class="admin-section">
        <h2>Subscribers with Expiring Plans (Next 3 Days)</h2>
        <table id="expiringPlansTable">
            <thead>
                <tr>
                    <th>Mobile Number</th>
                    <th>Current Plan</th>
                    <th>Expiry Date</th>
                    <th>Last Recharge Amount</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </section>
    <section id="recharge-plans" class="admin-section">
        <h2>Manage Recharge Plans</h2>
        <button id="addPlanBtn" class="btn-primary">Add New Plan</button>
        <table id="rechargePlansTable">
            <thead>
                <tr>
                    <th>Plan Name</th>
                    <th>Price</th>
                    <th>Validity</th>
                    <th>Data</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </section>
    <section id="transaction-history" class="admin-section" >
        <h2>Transaction History</h2>
        <div class="filters" style="display: block;">
            <input type="date" id="filterDate" placeholder="Filter by Date">
            <input type="number" id="filterAmount" placeholder="Filter by Amount">
            <select id="filterPaymentMethod">
                <option value="">All Payment Methods</option>
                <option value="UPI">UPI</option>
                <option value="Credit Card">Credit Card</option>
                <option value="Debit Card">Debit Card</option>
            </select>
            <button id="applyFiltersBtn" class="btn-primary">Apply Filters</button>
        </div>
        <table id="transactionHistoryTable">
            <thead>
                <tr>
                    <th>Plan Name</th>
                    <th>Recharge Date</th>
                    <th>Amount</th>
                    <th>Payment Method</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>              
            </tbody>
        </table>
    </section>
    <section id="notifications" class="admin-section">
        <h2>Send Notifications</h2>
        <form id="notificationForm">
            <textarea id="notificationMessage" placeholder="Enter your message..." required></textarea>
            <button type="submit" class="btn-primary">Send Notification</button>
        </form>
    </section>

   
    <section id="support-tickets" class="admin-section">
        <h2>Customer Support Tickets</h2>
        <table id="supportTicketsTable">
            <thead>
                <tr>
                    <th>Ticket ID</th>
                    <th>User Name</th>
                    <th>Issue</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                
            </tbody>
        </table>
    </section>

   
    <section id="feedback-reports" class="admin-section">
        <h2>User Feedback Reports</h2>
        <table id="feedbackReportsTable">
            <thead>
                <tr>
                    <th>User Name</th>
                    <th>Feedback</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
              
            </tbody>
        </table>
    </section>


    <div  class="Analytical-Sections">
        <h2>
            Customer Trend Analytics Dashboard
        </h2>
        <canvas id="Analysis"></canvas>
    </div>

    <script src="admin.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded" , () => {
    const data = {
        labels :["January" , "February" , "March","April","May","June"],
        datasets :[{
            label:"Monthly Active Users",
            data:[1200,1500,2000,2500,3000,3500],
            backgroundColor:"#",
            borderColor:"#B68D40",
            borderWidth: 2,
            pointBackgroundColor:"#B68D40",
            pointRadius:5,
            pointRadiusHover: 7.
        }]
    };
    const options = {
        responsive :true,
        plugins : {
            legend :{
                display:true,
                position:"top"
            },
            tooltip:{
                enabled:true
            }
        },
        scales :{
            y:{
                beginAtZero:true,
                title: {
                    display:true,
                    text:"Number of Users",
                }
            },
            x:{
                title:{
                    display:true,
                    text:"Months",
                }
            }
        }
    };
    const ctx = document.getElementById("Analysis").getContext("2d");
    const Analysis= new Chart(ctx,{
        type:"line",
        data:data,
        options:options,
    });
}
);
function logout() {
            window.location.href = "admin-login.html";
        }

    </script>
</body>
</html>  -->


<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Admin Dashboard | VoltMobi</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="stylesheet" href="admin.css" type="text/css">
        <link rel="icon" href="img/212268702.png" type="image/icon">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <div class="admin-container">
            <!-- Sidebar Navigation -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <h1>VoltMobi</h1>
                </div>
                <div class="sidebar-profile">
                    <img src="img/user_profile.png" alt="admin">
                    <h3 id="adminName">Admin User</h3>
                    <p id="adminRole">Super Admin</p>
                </div>
                <nav class="sidebar-nav">
                    <a href="#analytics"><i class="fas fa-chart-bar"></i> Analytics</a>
                    <a href="#expiring-plans"><i class="fas fa-calendar-times"></i> Expiring Plans</a>
                    <a href="#inactive-numbers"><i class="fas fa-phone-slash"></i> Inactive Numbers</a>
                    <a href="#recharge-plans"><i class="fas fa-list"></i> Recharge Plans</a>
                    <a href="#transaction-history"><i class="fas fa-history"></i> Transaction History</a>
                    <a href="#notifications"><i class="fas fa-bell"></i> Notifications</a>
                    <a href="#support-tickets"><i class="fas fa-ticket-alt"></i> Support Tickets</a>
                    <a href="#feedback-reports"><i class="fas fa-comment"></i> Feedback Reports</a>
                    <a href="#admin-settings"><i class="fas fa-cog"></i> Admin Settings</a>
                </nav>
                <div class="sidebar-footer">
                    <button class="btn-logout" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <header class="content-header">
                    <h2>Admin Dashboard</h2>
                    <div class="header-controls">
                        <div class="notifications-icon">
                            <i class="fas fa-bell"></i>
                            <span class="badge">3</span>
                        </div>
                        <div class="admin-dropdown">
                            <img src="img/user_profile.png" alt="admin">
                            <div class="dropdown-content">
                                <a href="#admin-profile">My Profile</a>
                                <a href="#admin-settings">Settings</a>
                                <a href="#" onclick="logout()">Logout</a>
                            </div>
                        </div>
                    </div>
                </header>

                <section id="analytics" class="admin-section">
                    <h2>Analytics</h2>
                    <div class="analytics-cards">
                        <div class="card">
                            <h3>Total Subscribers</h3>
                            <p id="totalSubscribers">Loading...</p>
                        </div>
                        <div class="card">
                            <h3>Active Plans</h3>
                            <p id="activePlans">Loading...</p>
                        </div>
                        <div class="card">
                            <h3>Revenue (This Month)</h3>
                            <p id="monthlyRevenue">Loading...</p>
                        </div>
                        <div class="card">
                            <h3>Inactive Numbers</h3>
                            <p id="inactiveNumbers">Loading...</p>
                        </div>
                    </div>
                </section>
                
                <section id="expiring-plans" class="admin-section">
                    <h2>Subscribers with Expiring Plans (Next 3 Days)</h2>
                    <table id="expiringPlansTable">
                        <thead>
                            <tr>
                                <th>Mobile Number</th>
                                <th>Current Plan</th>
                                <th>Expiry Date</th>
                                <th>Last Recharge Amount</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </section>

                <section id="inactive-numbers" class="admin-section">
                    <h2>Inactive Numbers (No Recharge for 3+ Months)</h2>
                    <div class="section-controls">
                        <button id="deactivateAllBtn" class="btn-danger">Deactivate All Selected</button>
                        <button id="notifyAllBtn" class="btn-warning">Notify All Selected</button>
                    </div>
                    <table id="inactiveNumbersTable">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAll"></th>
                                <th>Mobile Number</th>
                                <th>Last Recharge Date</th>
                                <th>Inactive Days</th>
                                <th>Customer Name</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Sample data -->
                        </tbody>
                    </table>
                </section>

                <section id="recharge-plans" class="admin-section">
                    <h2>Manage Recharge Plans</h2>
                    <button id="addPlanBtn" class="btn-primary">Add New Plan</button>
                    <table id="rechargePlansTable">
                        <thead>
                            <tr>
                                <th>Plan Name</th>
                                <th>Price</th>
                                <th>Validity</th>
                                <th>Data</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </section>

                <section id="transaction-history" class="admin-section" >
                    <h2>Transaction History</h2>
                    <div class="filters" style="display: block;">
                        <input type="date" id="filterDate" placeholder="Filter by Date">
                        <input type="number" id="filterAmount" placeholder="Filter by Amount">
                        <select id="filterPaymentMethod">
                            <option value="">All Payment Methods</option>
                            <option value="UPI">UPI</option>
                            <option value="Credit Card">Credit Card</option>
                            <option value="Debit Card">Debit Card</option>
                        </select>
                        <button id="applyFiltersBtn" class="btn-primary">Apply Filters</button>
                    </div>
                    <table id="transactionHistoryTable">
                        <thead>
                            <tr>
                                <th>Plan Name</th>
                                <th>Recharge Date</th>
                                <th>Amount</th>
                                <th>Payment Method</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>              
                        </tbody>
                    </table>
                </section>

                <section id="notifications" class="admin-section">
                    <h2>Send Notifications</h2>
                    <div class="notification-options">
                        <select id="notificationType">
                            <option value="all">All Users</option>
                            <option value="expiring">Users with Expiring Plans</option>
                            <option value="inactive">Inactive Users</option>
                            <option value="custom">Custom User Group</option>
                        </select>
                        <div id="customUserGroup" style="display: none;">
                            <input type="text" id="customUserInput" placeholder="Enter mobile numbers separated by commas">
                        </div>
                    </div>
                    <form id="notificationForm">
                        <textarea id="notificationMessage" placeholder="Enter your message..." required></textarea>
                        <div class="notification-controls">
                            <select id="notificationPriority">
                                <option value="normal">Normal Priority</option>
                                <option value="high">High Priority</option>
                            </select>
                            <button type="submit" class="btn-primary">Send Notification</button>
                        </div>
                    </form>
                </section>
               
                <section id="support-tickets" class="admin-section">
                    <h2>Customer Support Tickets</h2>
                    <table id="supportTicketsTable">
                        <thead>
                            <tr>
                                <th>Ticket ID</th>
                                <th>User Name</th>
                                <th>Issue</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                        </tbody>
                    </table>
                </section>
               
                <section id="feedback-reports" class="admin-section">
                    <h2>User Feedback Reports</h2>
                    <table id="feedbackReportsTable">
                        <thead>
                            <tr>
                                <th>User Name</th>
                                <th>Feedback</th>
                                <th>Date</th>
                                <th>Rating</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                          
                        </tbody>
                    </table>
                </section>

                <section id="admin-settings" class="admin-section">
                    <h2>Admin Settings</h2>
                    <div class="settings-container">
                        <div class="settings-card">
                            <h3>Profile Settings</h3>
                            <form id="profileSettingsForm">
                                <div class="form-group">
                                    <label for="adminUsername">Username</label>
                                    <input type="text" id="adminUsername" value="admin" required>
                                </div>
                                <div class="form-group">
                                    <label for="adminEmail">Email</label>
                                    <input type="email" id="adminEmail" value="admin@voltmobi.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="adminPhone">Phone</label>
                                    <input type="tel" id="adminPhone" value="+1234567890">
                                </div>
                                <button type="submit" class="btn-primary">Save Changes</button>
                            </form>
                        </div>
                        <div class="settings-card">
                            <h3>Security Settings</h3>
                            <form id="securitySettingsForm">
                                <div class="form-group">
                                    <label for="currentPassword">Current Password</label>
                                    <input type="password" id="currentPassword" required>
                                </div>
                                <div class="form-group">
                                    <label for="newPassword">New Password</label>
                                    <input type="password" id="newPassword" required>
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm Password</label>
                                    <input type="password" id="confirmPassword" required>
                                </div>
                                <button type="submit" class="btn-primary">Change Password</button>
                            </form>
                        </div>
                    </div>
                </section>

                <div class="Analytical-Sections">
                    <h2>Customer Trend Analytics Dashboard</h2>
                    <canvas id="Analysis"></canvas>
                </div>
            </div>
        </div>

        <script src="admin.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Analytics chart
                const data = {
                    labels: ["January", "February", "March", "April", "May", "June"],
                    datasets: [{
                        label: "Monthly Active Users",
                        data: [1200, 1500, 2000, 2500, 3000, 3500],
                        backgroundColor: "#",
                        borderColor: "#B68D40",
                        borderWidth: 2,
                        pointBackgroundColor: "#B68D40",
                        pointRadius: 5,
                        pointRadiusHover: 7
                    }]
                };
                const options = {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: "top"
                        },
                        tooltip: {
                            enabled: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: "Number of Users",
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: "Months",
                            }
                        }
                    }
                };
                const ctx = document.getElementById("Analysis").getContext("2d");
                const Analysis = new Chart(ctx, {
                    type: "line",
                    data: data,
                    options: options,
                });

                // Notification type selector
                const notificationType = document.getElementById('notificationType');
                const customUserGroup = document.getElementById('customUserGroup');
                
                notificationType.addEventListener('change', function() {
                    if (this.value === 'custom') {
                        customUserGroup.style.display = 'block';
                    } else {
                        customUserGroup.style.display = 'none';
                    }
                });

                // Select all checkbox functionality
                const selectAll = document.getElementById('selectAll');
                if (selectAll) {
                    selectAll.addEventListener('change', function() {
                        const checkboxes = document.querySelectorAll('#inactiveNumbersTable tbody input[type="checkbox"]');
                        checkboxes.forEach(checkbox => {
                            checkbox.checked = selectAll.checked;
                        });
                    });
                }

                // Load mock data for inactive numbers
                loadInactiveNumbers();
            });

            function loadInactiveNumbers() {
                const inactiveData = [
                    { number: '9876543210', lastRecharge: '2024-11-25', days: 92, name: 'John Doe' },
                    { number: '8765432109', lastRecharge: '2024-11-20', days: 97, name: 'Jane Smith' },
                    { number: '7654321098', lastRecharge: '2024-11-15', days: 102, name: 'Robert Johnson' },
                    { number: '6543210987', lastRecharge: '2024-11-10', days: 107, name: 'Emily Brown' }
                ];

                const tbody = document.querySelector('#inactiveNumbersTable tbody');
                if (tbody) {
                    tbody.innerHTML = '';
                    inactiveData.forEach(item => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td><input type="checkbox" class="number-checkbox"></td>
                            <td>${item.number}</td>
                            <td>${item.lastRecharge}</td>
                            <td>${item.days}</td>
                            <td>${item.name}</td>
                            <td>
                                <button class="btn-warning btn-sm" onclick="notifyUser('${item.number}')">Notify</button>
                                <button class="btn-danger btn-sm" onclick="deactivateNumber('${item.number}')">Deactivate</button>
                            </td>
                        `;
                        tbody.appendChild(row);
                    });

                    // Update inactive numbers count
                    document.getElementById('inactiveNumbers').textContent = inactiveData.length;
                }
            }

            function notifyUser(number) {
                alert(`Notification sent to ${number}`);
            }

            function deactivateNumber(number) {
                if (confirm(`Are you sure you want to deactivate ${number}?`)) {
                    alert(`Number ${number} has been deactivated`);
                    // Code to remove from table would go here
                }
            }

            function logout() {
                window.location.href = "admin-login.html";
            }
        </script>
    </body>
</html>